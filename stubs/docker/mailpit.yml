# Docker Compose configuration for Mailpit
# Generated by PhpHive CLI
#
# Services:
# - mailpit: Email testing tool with web interface
#
# Usage:
#   docker compose up -d    # Start services
#   docker compose down     # Stop services
#   docker compose logs     # View logs
#
# Access:
#   SMTP: localhost:1025
#   Web UI: http://localhost:8025

version: "3.8"

services:
  # Mailpit Email Testing Service
  mailpit:
    image: axllent/mailpit:latest
    container_name: "{{CONTAINER_PREFIX}}-mailpit"
    restart: unless-stopped
    ports:
      - "{{MAILPIT_SMTP_PORT}}:1025"
      - "{{MAILPIT_WEB_PORT}}:8025"
    networks:
      - "{{NETWORK_NAME}}"
    healthcheck:
      test:
        ["CMD", "wget", "--no-verbose", "--spider", "http://localhost:8025/"]
      interval: 10s
      timeout: 5s
      retries: 5

# Network for service communication
networks:
  "{{NETWORK_NAME}}":
    driver: bridge
